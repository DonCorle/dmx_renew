(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{3156:function(a,b,c){"use strict";c.d(b,{"_":function(){return g}});var d=c(29),e=c(7794),f=c.n(e);function g(a){return h.apply(this,arguments)}function h(){return(h=(0,d.Z)(f().mark(function a(b){var c,d,e,g=arguments;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=g.length>1&& void 0!==g[1]?g[1]:{}){a.next=7;break}return a.next=4,fetch(b);case 4:d=a.sent,a.next=10;break;case 7:return a.next=9,fetch(b,c);case 9:d=a.sent;case 10:return a.next=12,d.json();case 12:return e=a.sent,a.abrupt("return",e);case 14:case"end":return a.stop()}},a)}))).apply(this,arguments)}},3699:function(a,b,c){"use strict";/*! js-cookie v3.0.1 | MIT */ function d(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}function e(a,b){function c(c,e,f){if("undefined"!=typeof document){"number"==typeof(f=d({},b,f)).expires&&(f.expires=new Date(Date.now()+864e5*f.expires)),f.expires&&(f.expires=f.expires.toUTCString()),c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var g="";for(var h in f){if(f[h])g+="; "+h,!0!==f[h]&&(g+="="+f[h].split(";")[0])}return document.cookie=c+"="+a.write(e,c)+g}}return Object.create({set:c,get:function(b){if("undefined"!=typeof document&&(!arguments.length||b)){for(var c=document.cookie?document.cookie.split("; "):[],d={},e=0;e<c.length;e++){var f=c[e].split("="),g=f.slice(1).join("=");try{var h=decodeURIComponent(f[0]);if(d[h]=a.read(g,h),b===h)break}catch(i){}}return b?d[b]:d}},remove:function(a,b){c(a,"",d({},b,{expires:-1}))},withAttributes:function(a){return e(this.converter,d({},this.attributes,a))},withConverter:function(a){return e(d({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(b)},converter:{value:Object.freeze(a)}})}c.d(b,{BT:function(){return j},o4:function(){return h},Ll:function(){return i}}),c(1163);var f=e({read:function(a){return'"'===a[0]&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),g=c(3156),h=function(a){f.set("id",a.user.id),f.set("username",a.user.username),f.set("jwt",a.jwt),f.set("isLogin",!0)},i=function(){f.remove("id"),f.remove("jwt"),f.remove("username"),f.remove("isLogin")},j=function(){var a=f.get("jwt");return a?(0,g._)("".concat("http://localhost:1337/api","/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then(function(a){return a.username}).catch(function(a){return console.error(a)}):""}},122:function(a,b,c){"use strict";c.d(b,{dr:function(){return l},jy:function(){return m}});var d,e=c(29),f=c(7794),g=c.n(f),h=c(7294),i=c(3699),j=c(5893),k=(0,h.createContext)({user:null,loading:!1}),l=function(a){var b=a.value,c=a.children,e=b.user;return(0,h.useEffect)(function(){!d&&e&&(d=e)},[e]),(0,j.jsx)(k.Provider,{value:b,children:c})},m=function(){var a=(0,h.useState)({user:d||null,loading:void 0===d}),b=a[0],c=a[1];return(0,h.useEffect)(function(){if(void 0===d){var a,b=!0;return(a=(0,e.Z)(g().mark(function a(){var d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.BT)();case 2:d=a.sent,b&&c({user:d,loading:!1});case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})(),function(){b=!1}}},[]),b}},9219:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return t}});var d=c(122),e=c(5893),f=function(a){var b=a.user,c=a.loading,f=a.children;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(d.dr,{value:{user:b,loading:void 0!==c&&c},children:(0,e.jsx)("main",{className:"px-4",children:(0,e.jsx)("div",{className:"flex justify-center items-center bg-white mx-auto w-2/4 rounded-lg my-16 p-16",children:(0,e.jsx)("div",{className:"text-2xl font-medium ",children:f})})})})})},g=c(9499),h=c(29),i=c(7794),j=c.n(i),k=c(7294),l=c(1664),m=c.n(l),n=c(1163),o=c(3156),p=c(3699);function q(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function r(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?q(Object(c),!0).forEach(function(b){(0,g.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):q(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var s=function(){var a,b=(0,n.useRouter)(),c=(0,k.useState)({username:"",email:"",password:""}),d=c[0],f=c[1],i=(a=(0,h.Z)(j().mark(function a(c){var e;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),console.log("NEXT_PUBLIC_STRAPI_URL : ","http://localhost:1337/api"),a.prev=2,a.next=5,(0,o._)("".concat("http://localhost:1337/api","/auth/local/register"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password,username:d.username}),method:"POST"});case 5:e=a.sent,(0,p.o4)(e),b.push("/main/home"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),console.error(a.t0);case 13:case"end":return a.stop()}},a,null,[[2,10]])})),function(b){return a.apply(this,arguments)}),l=function(a){var b=a.target,c=b.name,e=b.value;f(r(r({},d),{},(0,g.Z)({},c,e)))};return(0,e.jsx)("div",{className:"flex w-full",children:(0,e.jsxs)("div",{className:"w-full bg-white border-2 rounded p-8 m-4 md:max-w-sm md:mx-auto",children:[(0,e.jsx)("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tighter mb-4",children:(0,e.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400 py-2",children:"Register"})}),(0,e.jsxs)("form",{onSubmit:i,className:"mb-4 md:flex md:flex-wrap md:justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-col mb-4 md:w-full",children:[(0,e.jsx)("label",{className:"font-bold text-lg mb-2",htmlFor:"username",children:"Username"}),(0,e.jsx)("input",{className:"border-2 py-2 px-3",type:"text",name:"username",onChange:function(a){return l(a)},required:!0})]}),(0,e.jsxs)("div",{className:"flex flex-col mb-4 md:w-full",children:[(0,e.jsx)("label",{className:"font-bold text-lg mb-2",htmlFor:"email",children:"Email"}),(0,e.jsx)("input",{className:"border-2 py-2 px-3",type:"email",name:"email",onChange:function(a){return l(a)},required:!0})]}),(0,e.jsxs)("div",{className:"flex flex-col mb-6 md:w-full",children:[(0,e.jsx)("label",{className:"font-bold text-lg mb-2",htmlFor:"password",children:"Password"}),(0,e.jsx)("input",{className:"border-2 py-2 px-3",type:"password",name:"password",onChange:function(a){return l(a)},required:!0})]}),(0,e.jsx)("button",{className:"block bg-teal-400 text-lg rounded p-4 mx-auto",type:"submit",children:"Sign Up"})]}),(0,e.jsx)("div",{className:"text-sm text-primary-600 font-semibold",children:(0,e.jsx)(m(),{href:"/auth/login",children:(0,e.jsx)("a",{children:"로그인"})})})]})})},t=function(){var a=(0,d.jy)().user;return(0,e.jsx)(f,{user:a,children:(0,e.jsx)(s,{})})}},7429:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return c(9219)}])},1163:function(a,b,c){a.exports=c(9898)},29:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})}},function(a){a.O(0,[664,774,888,179],function(){var b;return a(a.s=7429)}),_N_E=a.O()}])